// Translation data for multiple languages
const translations = {
    en: {
        app_title: "Nabha Telemedicine",
        patient_portal: "Patient Portal",
        doctor_portal: "Doctor Portal", 
        pharmacy_portal: "Pharmacy Portal",
        symptom_checker: "Symptom Checker",
        patient_registration: "Patient Registration",
        full_name: "Full Name",
        village: "Village", 
        phone: "Phone Number",
        age: "Age",
        symptoms: "Describe your symptoms",
        urgency: "Urgency Level",
        low: "Low",
        medium: "Medium", 
        high: "High",
        emergency: "Emergency",
        submit_request: "Submit Request",
        doctor_dashboard: "Doctor Dashboard",
        pending_requests: "Pending Patient Requests",
        medicine_availability: "Medicine Availability",
        check_medicines: "Check Medicines",
        update_stock: "Update Stock",
        search_medicines: "Search Medicines",
        search: "Search",
        update_medicine_stock: "Update Medicine Stock",
        medicine_name: "Medicine Name",
        availability: "Availability",
        available: "Available",
        limited: "Limited Stock",
        out_of_stock: "Out of Stock",
        pharmacy_name: "Pharmacy Name",
        update: "Update",
        symptom_checker_title: "Symptom Checker",
        request_submitted: "Request submitted successfully!",
        medicine_updated: "Medicine information updated!",
        no_requests: "No pending requests",
        respond_to_patient: "Respond to Patient",
        consultation_notes: "Consultation Notes",
        send_response: "Send Response",
        response_sent: "Response sent to patient!"
    },
    hi: {
        app_title: "नाभा टेलीमेडिसिन",
        patient_portal: "मरीज़ पोर्टल",
        doctor_portal: "डॉक्टर पोर्टल",
        pharmacy_portal: "दवाखाना पोर्टल", 
        symptom_checker: "लक्षण जांचकर्ता",
        patient_registration: "मरीज़ पंजीकरण",
        full_name: "पूरा नाम",
        village: "गांव",
        phone: "फ़ोन नंबर",
        age: "उम्र",
        symptoms: "अपने लक्षणों का वर्णन करें",
        urgency: "तात्कालिकता स्तर",
        low: "कम",
        medium: "मध्यम",
        high: "उच्च", 
        emergency: "आपातकाल",
        submit_request: "अनुरोध भेजें",
        doctor_dashboard: "डॉक्टर डैशबोर्ड",
        pending_requests: "लंबित मरीज़ अनुरोध",
        medicine_availability: "दवा उपलब्धता",
        check_medicines: "दवाएं जांचें",
        update_stock: "स्टॉक अपडेट करें",
        search_medicines: "दवाएं खोजें",
        search: "खोजें",
        update_medicine_stock: "दवा स्टॉक अपडेट करें",
        medicine_name: "दवा का नाम",
        availability: "उपलब्धता",
        available: "उपलब्ध",
        limited: "सीमित स्टॉक",
        out_of_stock: "स्टॉक समाप्त",
        pharmacy_name: "दवाखाने का नाम",
        update: "अपडेट करें",
        symptom_checker_title: "लक्षण जांचकर्ता",
        request_submitted: "अनुरोध सफलतापूर्वक भेजा गया!",
        medicine_updated: "दवा की जानकारी अपडेट की गई!",
        no_requests: "कोई लंबित अनुरोध नहीं",
        respond_to_patient: "मरीज़ को जवाब दें",
        consultation_notes: "परामर्श नोट्स",
        send_response: "जवाब भेजें",
        response_sent: "मरीज़ को जवाब भेजा गया!"
    },
    pa: {
        app_title: "ਨਾਭਾ ਟੈਲੀਮੈਡੀਸਿਨ",
        patient_portal: "ਮਰੀਜ਼ ਪੋਰਟਲ",
        doctor_portal: "ਡਾਕਟਰ ਪੋਰਟਲ",
        pharmacy_portal: "ਦਵਾਖਾਨਾ ਪੋਰਟਲ",
        symptom_checker: "ਲੱਛਣ ਜਾਂਚਕ",
        patient_registration: "ਮਰੀਜ਼ ਰਜਿਸਟ੍ਰੇਸ਼ਨ",
        full_name: "ਪੂਰਾ ਨਾਮ",
        village: "ਪਿੰਡ",
        phone: "ਫ਼ੋਨ ਨੰਬਰ",
        age: "ਉਮਰ",
        symptoms: "ਆਪਣੇ ਲੱਛਣਾਂ ਦਾ ਵਰਣਨ ਕਰੋ",
        urgency: "ਜ਼ਰੂਰੀ ਪੱਧਰ",
        low: "ਘੱਟ",
        medium: "ਮੱਧਮ",
        high: "ਉੱਚ",
        emergency: "ਐਮਰਜੈਂਸੀ",
        submit_request: "ਬੇਨਤੀ ਭੇਜੋ",
        doctor_dashboard: "ਡਾਕਟਰ ਡੈਸ਼ਬੋਰਡ",
        pending_requests: "ਬਾਕੀ ਮਰੀਜ਼ ਬੇਨਤੀਆਂ",
        medicine_availability: "ਦਵਾਈ ਉਪਲਬਧਤਾ",
        check_medicines: "ਦਵਾਈਆਂ ਚੈਕ ਕਰੋ",
        update_stock: "ਸਟਾਕ ਅੱਪਡੇਟ ਕਰੋ",
        search_medicines: "ਦਵਾਈਆਂ ਖੋਜੋ",
        search: "ਖੋਜੋ",
        update_medicine_stock: "ਦਵਾਈ ਸਟਾਕ ਅੱਪਡੇਟ ਕਰੋ",
        medicine_name: "ਦਵਾਈ ਦਾ ਨਾਮ",
        availability: "ਉਪਲਬਧਤਾ",
        available: "ਉਪਲਬਧ",
        limited: "ਸੀਮਤ ਸਟਾਕ",
        out_of_stock: "ਸਟਾਕ ਖਤਮ",
        pharmacy_name: "ਦਵਾਖਾਨੇ ਦਾ ਨਾਮ",
        update: "ਅੱਪਡੇਟ ਕਰੋ",
        symptom_checker_title: "ਲੱਛਣ ਜਾਂਚਕ",
        request_submitted: "ਬੇਨਤੀ ਸਫਲਤਾਪੂਰਵਕ ਭੇਜੀ ਗਈ!",
        medicine_updated: "ਦਵਾਈ ਦੀ ਜਾਣਕਾਰੀ ਅੱਪਡੇਟ ਕੀਤੀ ਗਈ!",
        no_requests: "ਕੋਈ ਬਾਕੀ ਬੇਨਤੀਆਂ ਨਹੀਂ",
        respond_to_patient: "ਮਰੀਜ਼ ਨੂੰ ਜਵਾਬ ਦਿਓ",
        consultation_notes: "ਸਲਾਹ ਨੋਟਸ",
        send_response: "ਜਵਾਬ ਭੇਜੋ",
        response_sent: "ਮਰੀਜ਼ ਨੂੰ ਜਵਾਬ ਭੇਜਿਆ ਗਿਆ!"
    }
};

// Current language
let currentLanguage = 'en';

// Function to change language
function changeLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('selectedLanguage', lang);
    updatePageTexts();
}

// Function to get translation
function t(key) {
    return translations[currentLanguage][key] || translations.en[key] || key;
}

// Function to update all page texts
function updatePageTexts() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = t(key);
        
        if (element.tagName === 'INPUT' && element.type === 'text') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Update document title
    document.title = t('app_title') + ' - Rural Healthcare Access';
    
    // Update language selector
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = currentLanguage;
    }
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
    // Load saved language or default to English
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
    currentLanguage = savedLanguage;
    
    // Set up language selector
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = currentLanguage;
        languageSelect.addEventListener('change', function() {
            changeLanguage(this.value);
        });
    }
    
    // Update initial texts
    updatePageTexts();
});