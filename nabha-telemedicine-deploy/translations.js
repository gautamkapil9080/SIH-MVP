// Translation data for multiple languages
const translations = {
    en: {
        app_title: "Nabha Telemedicine",
        patient_portal: "Patient Portal",
        doctor_portal: "Doctor Portal", 
        pharmacy_portal: "Pharmacy Portal",
        symptom_checker: "Symptom Checker",
        patient_registration: "Patient Registration",
        full_name: "Full Name",
        village: "Village", 
        phone: "Phone Number",
        age: "Age",
        symptoms: "Describe your symptoms",
        urgency: "Urgency Level",
        low: "Low",
        medium: "Medium", 
        high: "High",
        emergency: "Emergency",
        submit_request: "Submit Request",
        doctor_dashboard: "Doctor Dashboard",
        pending_requests: "Pending Patient Requests",
        medicine_availability: "Medicine Availability",
        check_medicines: "Check Medicines",
        update_stock: "Update Stock",
        search_medicines: "Search Medicines",
        search: "Search",
        update_medicine_stock: "Update Medicine Stock",
        medicine_name: "Medicine Name",
        availability: "Availability",
        available: "Available",
        limited: "Limited Stock",
        out_of_stock: "Out of Stock",
        pharmacy_name: "Pharmacy Name",
        update: "Update",
        symptom_checker_title: "Symptom Checker",
        request_submitted: "Request submitted successfully!",
        medicine_updated: "Medicine information updated!",
        no_requests: "No pending requests",
        respond_to_patient: "Respond to Patient",
        consultation_notes: "Consultation Notes",
        send_response: "Send Response",
        response_sent: "Response sent to patient!",
        
        // Enhanced Doctor Dashboard
        patient_history: "Patient History",
        prescriptions: "Prescriptions",
        analytics: "Analytics",
        all_urgency: "All Urgency Levels",
        digital_prescriptions: "Digital Prescriptions",
        patient_name: "Patient Name",
        patient_phone: "Patient Phone",
        diagnosis: "Diagnosis",
        prescribed_medicines: "Prescribed Medicines",
        add_medicine: "+ Add Medicine",
        additional_notes: "Additional Notes",
        generate_prescription: "Generate Prescription",
        medical_analytics: "Medical Analytics",
        total_consultations: "Total Consultations",
        emergency_cases: "Emergency Cases",
        common_symptoms: "Most Common Symptoms",
        response_time: "Avg Response Time",
        
        // Enhanced Symptom Checker
        guided_assessment: "Guided Assessment",
        quick_check: "Quick Check",
        emergency_check: "Emergency Signs",
        medical_disclaimer: "⚠️ This tool is for informational purposes only and does not replace professional medical advice.",
        quick_symptom_check: "Quick Symptom Check",
        respiratory: "Respiratory",
        digestive: "Digestive",
        neurological: "Neurological",
        cardiovascular: "Cardiovascular",
        musculoskeletal: "Musculoskeletal",
        skin: "Skin",
        mental_health: "Mental Health",
        general_symptoms: "General",
        emergency_warning_signs: "⚠️ Emergency Warning Signs",
        call_emergency_if: "Call Emergency Services Immediately If You Have:",
        chest_pain_severe: "Severe chest pain or pressure",
        breathing_difficulty: "Severe difficulty breathing",
        consciousness_loss: "Loss of consciousness or confusion",
        severe_bleeding: "Severe bleeding that won't stop",
        head_injury: "Serious head injury",
        high_fever_confusion: "High fever with confusion or severe headache",
        stroke_signs: "Signs of stroke (facial drooping, arm weakness, speech difficulty)",
        emergency_contacts: "Emergency Contacts:",
        emergency_number: "Emergency Services: 108",
        ambulance_number: "Ambulance: 102",
        local_hospital: "Local Hospital: Contact your nearest facility",
        
        // Government Schemes
        gov_schemes: "Govt Schemes",
        emergency: "Emergency",
        govt_medicine_schemes: "Government Medicine Schemes",
        ayushman_bharat: "Ayushman Bharat - PM-JAY",
        active: "Active",
        ayushman_desc: "Free treatment up to ₹5 lakh per family per year",
        eligibility: "Eligibility",
        coverage: "Coverage",
        hospitals: "Hospitals",
        ayushman_eligibility: "Below poverty line families",
        ayushman_coverage: "1,393 medical packages",
        ayushman_hospitals: "Civil Hospital Nabha, Patiala Medical College",
        check_eligibility: "Check Eligibility",
        punjab_health_scheme: "Punjab Health Scheme",
        punjab_desc: "Free medicines and treatment at government hospitals",
        punjab_eligibility: "All Punjab residents",
        punjab_coverage: "Essential medicines, OPD, emergency care",
        punjab_hospitals: "All PHCs, CHCs, District Hospitals",
        find_center: "Find Nearby Center",
        jan_aushadhi: "Jan Aushadhi Scheme",
        jan_aushadhi_desc: "Generic medicines at 50-90% lower prices",
        jan_aushadhi_eligibility: "Everyone",
        jan_aushadhi_coverage: "1,500+ generic medicines",
        stores: "Stores",
        jan_aushadhi_stores: "Nabha Main Market, Civil Hospital",
        find_store: "Find Store",
        emergency_scheme: "Emergency Medical Scheme",
        emergency_desc: "Free ambulance and emergency treatment",
        emergency_eligibility: "All residents in medical emergency",
        emergency_coverage: "108 Ambulance, Emergency care",
        contact: "Contact",
        call_ambulance: "Call Ambulance",
        need_help: "Need Help with Schemes?",
        helpline: "Helpline",
        local_office: "Local Office",
        district_office: "District Office",
        
        // Emergency Services
        emergency_services: "Emergency Services",
        ambulance_service: "Ambulance Service",
        ambulance_desc: "Free 24/7 ambulance service with medical support",
        call_108: "Call 108",
        share_location: "Share Location",
        police_emergency: "Police Emergency",
        police_desc: "Police emergency and crime reporting",
        call_100: "Call 100",
        fire_emergency: "Fire Emergency",
        fire_desc: "Fire department emergency response",
        call_101: "Call 101",
        women_helpline: "Women Helpline",
        women_desc: "24/7 support for women in distress",
        call_1091: "Call 1091",
        your_location: "Your Current Location",
        location_loading: "Getting location...",
        get_location: "Get My Location",
        send_location_sms: "Send Location via SMS",
        important_contacts: "Important Local Contacts",
        civil_hospital: "Civil Hospital Nabha",
        police_station: "Police Station Nabha",
        fire_station: "Fire Station",
        district_hospital: "District Hospital Patiala"
    },
    hi: {
        app_title: "नाभा टेलीमेडिसिन",
        patient_portal: "मरीज़ पोर्टल",
        doctor_portal: "डॉक्टर पोर्टल",
        pharmacy_portal: "दवाखाना पोर्टल", 
        symptom_checker: "लक्षण जांचकर्ता",
        patient_registration: "मरीज़ पंजीकरण",
        full_name: "पूरा नाम",
        village: "गांव",
        phone: "फ़ोन नंबर",
        age: "उम्र",
        symptoms: "अपने लक्षणों का वर्णन करें",
        urgency: "तात्कालिकता स्तर",
        low: "कम",
        medium: "मध्यम",
        high: "उच्च", 
        emergency: "आपातकाल",
        submit_request: "अनुरोध भेजें",
        doctor_dashboard: "डॉक्टर डैशबोर्ड",
        pending_requests: "लंबित मरीज़ अनुरोध",
        medicine_availability: "दवा उपलब्धता",
        check_medicines: "दवाएं जांचें",
        update_stock: "स्टॉक अपडेट करें",
        search_medicines: "दवाएं खोजें",
        search: "खोजें",
        update_medicine_stock: "दवा स्टॉक अपडेट करें",
        medicine_name: "दवा का नाम",
        availability: "उपलब्धता",
        available: "उपलब्ध",
        limited: "सीमित स्टॉक",
        out_of_stock: "स्टॉक समाप्त",
        pharmacy_name: "दवाखाने का नाम",
        update: "अपडेट करें",
        symptom_checker_title: "लक्षण जांचकर्ता",
        request_submitted: "अनुरोध सफलतापूर्वक भेजा गया!",
        medicine_updated: "दवा की जानकारी अपडेट की गई!",
        no_requests: "कोई लंबित अनुरोध नहीं",
        respond_to_patient: "मरीज़ को जवाब दें",
        consultation_notes: "परामर्श नोट्स",
        send_response: "जवाब भेजें",
        response_sent: "मरीज़ को जवाब भेजा गया!",
        
        // Enhanced Doctor Dashboard
        patient_history: "मरीज़ का इतिहास",
        prescriptions: "नुस्खे",
        analytics: "विश्लेषण",
        all_urgency: "सभी तात्कालिकता स्तर",
        digital_prescriptions: "डिजिटल नुस्खे",
        patient_name: "मरीज़ का नाम",
        patient_phone: "मरीज़ का फोन",
        diagnosis: "निदान",
        prescribed_medicines: "निर्धारित दवाएं",
        add_medicine: "+ दवा जोड़ें",
        additional_notes: "अतिरिक्त टिप्पणियां",
        generate_prescription: "नुस्खा बनाएं",
        medical_analytics: "चिकित्सा विश्लेषण",
        total_consultations: "कुल परामर्श",
        emergency_cases: "आपातकाल मामले",
        common_symptoms: "सामान्य लक्षण",
        response_time: "ौसत प्रतिक्रिया समय",
        
        // Enhanced Symptom Checker
        guided_assessment: "निर्देशित मूल्यांकन",
        quick_check: "त्वरित जांच",
        emergency_check: "आपातकाल संकेत",
        medical_disclaimer: "⚠️ यह टूल केवल जानकारी के लिए है और पेशेवर चिकित्सा सलाह का विकल्प नहीं है।",
        quick_symptom_check: "त्वरित लक्षण जांच",
        respiratory: "श्वसन",
        digestive: "पाचन",
        neurological: "न्यूरोलॉजिकल",
        cardiovascular: "हृदय वाहिका",
        musculoskeletal: "मांसपेशी",
        skin: "त्वचा",
        mental_health: "मानसिक स्वास्थ्य",
        general_symptoms: "सामान्य",
        emergency_warning_signs: "⚠️ आपातकाल चेतावनी संकेत",
        call_emergency_if: "यदि आपके पास है तो तुरंत आपातकालीन सेवाएं कॉल करें:",
        chest_pain_severe: "गंभीर छाती में दर्द या दबाव",
        breathing_difficulty: "गंभीर सांस लेने में कठिनाई",
        consciousness_loss: "बेहोशी या कनफ्यूजन",
        severe_bleeding: "गंभीर खून बहना जो नहीं रुकता",
        head_injury: "गंभीर सिर की चोट",
        high_fever_confusion: "कनफ्यूजन या गंभीर सिरदर्द के साथ तेज बुखार",
        stroke_signs: "स्ट्रोक के लक्षण (चेहरे का गिरना, बाह में कमजोरी, बोलने में कठिनाई)",
        emergency_contacts: "आपातकाल संपर्क:",
        emergency_number: "आपातकालीन सेवाएं: 108",
        ambulance_number: "एंबुलेंस: 102",
        local_hospital: "स्थानीय अस्पताल: अपने निकटतम सुविधा से संपर्क करें",
        
        // Government Schemes (Hindi)
        gov_schemes: "सरकारी योजनाएं",
        emergency: "आपातकाल",
        govt_medicine_schemes: "सरकारी दवा योजनाएं",
        ayushman_bharat: "आयुष्मान भारत - PM-JAY",
        active: "सक्रिय",
        ayushman_desc: "प्रति परिवार प्रति वर्ष ₹5 लाख तक मुफ्त इलाज",
        eligibility: "पात्रता",
        coverage: "कवरेज",
        hospitals: "अस्पताल",
        ayushman_eligibility: "गरीबी रेखा से नीचे के परिवार",
        ayushman_coverage: "1,393 चिकित्सा पैकेज",
        ayushman_hospitals: "नाभा सिविल अस्पताल, पटियाला मेडिकल कॉलेज",
        check_eligibility: "पात्रता जांचें",
        punjab_health_scheme: "पंजाब स्वास्थ्य योजना",
        punjab_desc: "सरकारी अस्पतालों में मुफ्त दवा और इलाज",
        punjab_eligibility: "सभी पंजाब निवासी",
        punjab_coverage: "आवश्यक दवाएं, OPD, आपातकालीन देखभाल",
        punjab_hospitals: "सभी PHC, CHC, जिला अस्पताल",
        find_center: "निकटतम केंद्र खोजें",
        jan_aushadhi: "जन औषधि योजना",
        jan_aushadhi_desc: "50-90% कम कीमत पर जेनरिक दवाएं",
        jan_aushadhi_eligibility: "सभी",
        jan_aushadhi_coverage: "1,500+ जेनरिक दवाएं",
        stores: "दुकानें",
        jan_aushadhi_stores: "नाभा मेन मार्केट, सिविल अस्पताल",
        find_store: "दुकान खोजें",
        emergency_scheme: "आपातकालीन चिकित्सा योजना",
        emergency_desc: "मुफ्त एंबुलेंस और आपातकालीन इलाज",
        emergency_eligibility: "चिकित्सा आपातकाल में सभी निवासी",
        emergency_coverage: "108 एंबुलेंस, आपातकालीन देखभाल",
        contact: "संपर्क",
        call_ambulance: "एंबुलेंस बुलाएं",
        need_help: "योजनाओं में मदद चाहिए?",
        helpline: "हेल्पलाइन",
        local_office: "स्थानीय कार्यालय",
        district_office: "जिला कार्यालय",
        
        // Emergency Services (Hindi)
        emergency_services: "आपातकालीन सेवाएं",
        ambulance_service: "एंबुलेंस सेवा",
        ambulance_desc: "24/7 मुफ्त एंबुलेंस सेवा चिकित्सा सहायता के साथ",
        call_108: "108 पर कॉल करें",
        share_location: "लोकेशन साझा करें",
        police_emergency: "पुलिस आपातकाल",
        police_desc: "पुलिस आपातकाल और अपराध रिपोर्टिंग",
        call_100: "100 पर कॉल करें",
        fire_emergency: "आग आपातकाल",
        fire_desc: "अग्निशमन विभाग आपातकालीन प्रतिक्रिया",
        call_101: "101 पर कॉल करें",
        women_helpline: "महिला हेल्पलाइन",
        women_desc: "परेशानी में महिलाओं के लिए 24/7 सहायता",
        call_1091: "1091 पर कॉल करें",
        your_location: "आपका वर्तमान स्थान",
        location_loading: "लोकेशन मिल रहा है...",
        get_location: "मेरा लोकेशन लें",
        send_location_sms: "SMS द्वारा लोकेशन भेजें",
        important_contacts: "महत्वपूर्ण स्थानीय संपर्क",
        civil_hospital: "नाभा सिविल अस्पताल",
        police_station: "नाभा पुलिस स्टेशन",
        fire_station: "अग्निशमन स्टेशन",
        district_hospital: "जिला अस्पताल पटियाला"
    },
    te: {
        app_title: "నాభా టెలిమెడిసిన్",
        patient_portal: "రోగి పోర్టల్",
        doctor_portal: "వైద్యుడు పోర్టల్",
        pharmacy_portal: "ఫార్మసీ పోర్టల్",
        symptom_checker: "లక్షణాలు చెకర్",
        patient_registration: "రోగి నమోదు",
        full_name: "పూర్తి పేరు",
        village: "గ్రామం",
        phone: "ఫోన్ నంబర్",
        age: "వయస్సు",
        symptoms: "మీ లక్షణాలను వివరించండి",
        urgency: "అత్యవసర స్థాయి",
        low: "తక్కువ",
        medium: "మధ్యస్థ",
        high: "అధిక",
        emergency: "అత్యవసరం",
        submit_request: "అభ్యర్థన పంపండి",
        doctor_dashboard: "వైద్య డాష్‌బోర్డ్",
        pending_requests: "పెండింగ్ రోగి అభ్యర్థనలు",
        medicine_availability: "మందుల లభ్యత",
        check_medicines: "మందులు తనిఖీ చేయండి",
        update_stock: "స్టాక్ అప్‌డేట్ చేయండి",
        search_medicines: "మందులు వెతకండి",
        search: "వెతకండి",
        update_medicine_stock: "మందుల స్టాక్ అప్‌డేట్ చేయండి",
        medicine_name: "మందు పేరు",
        availability: "లభ్యత",
        available: "అందుబాటులో ఉంది",
        limited: "పరిమిత స్టాక్",
        out_of_stock: "స్టాక్ లేదు",
        pharmacy_name: "ఫార్మసీ పేరు",
        update: "అప్‌డేట్ చేయండి",
        symptom_checker_title: "లక్షణాలు చెకర్",
        request_submitted: "అభ్యర్థన విజయవంతంగా పంపబడింది!",
        medicine_updated: "మందుల సమాచారం అప్‌డేట్ చేయబడింది!",
        no_requests: "పెండింగ్ అభ్యర్థనలు లేవు",
        respond_to_patient: "రోగికి ప్రతిస్పందించండి",
        consultation_notes: "సంప్రదింపు గమనికలు",
        send_response: "ప్రతిస్పందన పంపండి",
        response_sent: "రోగికి ప్రతిస్పందన పంపబడింది!",
        
        // Enhanced Doctor Dashboard
        patient_history: "రోగి చరిత్ర",
        prescriptions: "ప్రస్క్రిప్షన్లు",
        analytics: "విశ్లేషణలు",
        all_urgency: "అన్ని అత్యవసర స్థాయిలు",
        digital_prescriptions: "డిజిటల్ ప్రస్క్రిప్షన్లు",
        patient_name: "రోగి పేరు",
        patient_phone: "రోగి ఫోన్",
        diagnosis: "నిర్ణయం",
        prescribed_medicines: "సూచించబడిన మందులు",
        add_medicine: "+ మందు చేర్చండి",
        additional_notes: "అదుపు గమనికలు",
        generate_prescription: "ప్రస్క్రిప్షన్ తయారు చేయండి",
        medical_analytics: "వైద్య విశ్లేషణలు",
        total_consultations: "మొత్తం సలహాలు",
        emergency_cases: "అత్యవసర కేసులు",
        common_symptoms: "సాధారణ లక్షణాలు",
        response_time: "సరాసరి ప్రతిక్రియ సమయం",
        
        // Enhanced Symptom Checker
        guided_assessment: "మార్గదర్శన మూల్యాంకన",
        quick_check: "వేగ తనిఖీ",
        emergency_check: "అత్యవసర కిన్హాలు",
        medical_disclaimer: "⚠️ ఈ సాధనం కేవలం సమాచార ఉద్దేశాలను మాత్రమే మరియు వృత్తిపరమైన వైద్య సలహాకు పర్యాయం కాదు।",
        quick_symptom_check: "వేగ లక్షణ తనిఖీ",
        respiratory: "శ్వసన",
        digestive: "జీర్ణ",
        neurological: "న్యూరోలాజికల్",
        cardiovascular: "హృదయ రక్త పరిసరాణ",
        musculoskeletal: "మాంస అస్థిపంజర",
        skin: "చర్మం",
        mental_health: "మానసిక ఆరోగ్యం",
        general_symptoms: "సాధారణ",
        emergency_warning_signs: "⚠️ అత్యవసర కిన్హా చిన్హాలు",
        call_emergency_if: "మీకు ఉంటే తత్కాలం అత్యవసర సేవలను కాల్ చేయండి:",
        chest_pain_severe: "గంభీరమైన కూడి నోపి లేదా నైపిస్కల",
        breathing_difficulty: "గంభీరమైన ఆస విడుసుకోవడం",
        consciousness_loss: "కిన్నెత్తన గిలేయానికీ లేకపోవడం",
        severe_bleeding: "ఆగని రక్తపు వహన",
        head_injury: "గంభీరమైన తల అయినరి",
        high_fever_confusion: "కిన్నెత్తనతో లేదా గంభీరమైన తలనోపితో ఎక్కువ జ్వరం",
        stroke_signs: "స్ట్రోక్ లక్షణాలు (ముఖం విచలింగొవడం, కై దౌర్బల్యం, మాతలాడడంలో కష్టం)",
        emergency_contacts: "అత్యవసర సంపర్కాలు:",
        emergency_number: "అత్యవసర సేవలు: 108",
        ambulance_number: "ఆంబులెన్స్: 102",
        local_hospital: "స్థానిక ఆస్పత్రి: మీ సమీపనా సౌకర్యాన్ని సంపర్కించండి",
        
        // Government Schemes (Telugu)
        gov_schemes: "ప్రభుత్వ పీడికలు",
        emergency: "అత్యవసరం",
        govt_medicine_schemes: "ప్రభుత్వ మందుల పీడికలు",
        ayushman_bharat: "ఆయుష్మాన్ భారత్ - PM-JAY",
        active: "సక్రియం",
        ayushman_desc: "ప్రతి కుటుంబంకు సంవత్సరానికి ₹5 లక్షల వరకు ఉచిత చికిత్స",
        eligibility: "అర్హత",
        coverage: "కవరేజీ",
        hospitals: "ఆస్పత్రులు",
        ayushman_eligibility: "దారిద్రన రేఖ కిందన కుటుంబాలు",
        ayushman_coverage: "1,393 వైద్య ప్యాకేజీలు",
        ayushman_hospitals: "నాభా సివిల్ ఆస్పత్రి, పటియాలా మెడికల్ కాలేజీ",
        check_eligibility: "అర్హత తనిఖీ చేయండి",
        punjab_health_scheme: "పంజాబ్ ఆరోగ్య పీడిక",
        punjab_desc: "ప్రభుత్వ ఆస్పత్రులలో ఉచిత మందులు మరియు చికిత్స",
        punjab_eligibility: "అన్ని పంజాబ్ నివాసులు",
        punjab_coverage: "ఆవశ్యక మందులు, OPD, అత్యవసర చికిత్స",
        punjab_hospitals: "అన్ని PHCలు, CHCలు, జిల్లా ఆస్పత్రులు",
        find_center: "సమీపనా కేంద్రం వెతకండి",
        jan_aushadhi: "జన ఔషధి పీడిక",
        jan_aushadhi_desc: "50-90% తక్కువ విలువలలో జెనెరిక్ మందులు",
        jan_aushadhi_eligibility: "అందరూ",
        jan_aushadhi_coverage: "1,500+ జెనెరిక్ మందులు",
        stores: "కటులు",
        jan_aushadhi_stores: "నాభా మెయిన్ మార్కెట్, సివిల్ ఆస్పత్రి",
        find_store: "కట వెతకండి",
        emergency_scheme: "అత్యవసర వైద్య పీడిక",
        emergency_desc: "ఉచిత ఆంబులెన్స్ మరియు అత్యవసర చికిత్స",
        emergency_eligibility: "వైద్య అత్యవసరంలో అన్ని నివాసులు",
        emergency_coverage: "108 ఆంబులెన్స్, అత్యవసర చికిత్స",
        contact: "సంపర్కం",
        call_ambulance: "ఆంబులెన్స్ కాల్ చేయండి",
        need_help: "పీడికలలో సహాయం కావాలి?",
        helpline: "హెల్ప్‌లైన్",
        local_office: "స్థానిక కార్యాలయం",
        district_office: "జిల్లా కార్యాలయం",
        
        // Emergency Services (Telugu)
        emergency_services: "అత్యవసర సేవలు",
        ambulance_service: "ఆంబులెన్స్ సేవ",
        ambulance_desc: "24/7 ఉచిత ఆంబులెన్స్ సేవ వైద్య సహాయంతో",
        call_108: "108 కి కాల్ చేయండి",
        share_location: "లొకేషన్ షేర్ చేయండి",
        police_emergency: "పోలీసు అత్యవసరం",
        police_desc: "పోలీసు అత్యవసరం మరియు అపరాధ రిపోర్టింగ్",
        call_100: "100 కి కాల్ చేయండి",
        fire_emergency: "పూగు అత్యవసరం",
        fire_desc: "పూగుదాహ విభాగం అత్యవసర ప్రతిక్రియ",
        call_101: "101 కి కాల్ చేయండి",
        women_helpline: "మహిళా హెల్ప్‌లైన్",
        women_desc: "ఇబ్బందులో ఉన్న మహిళలకు 24/7 సహాయం",
        call_1091: "1091 కి కాల్ చేయండి",
        your_location: "మీ ప్రస్తుత స్థానం",
        location_loading: "లొకేషన్ రాస్తున్నది...",
        get_location: "నా లొకేషన్ తీసుకోండి",
        send_location_sms: "SMS ద్వారా లొకేషన్ పంపండి",
        important_contacts: "ముఖ్యమైన స్థానిక సంపర్కాలు",
        civil_hospital: "నాభా సివిల్ ఆస్పత్రి",
        police_station: "నాభా పోలీసు స్టేషన్",
        fire_station: "పూగుదాహ స్టేషన్",
        district_hospital: "జిల్లా ఆస్పత్రి పటియాలా"
    }
};

// Current language
let currentLanguage = 'en';

// Function to change language
function changeLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('selectedLanguage', lang);
    updatePageTexts();
}

// Function to get translation
function t(key) {
    return translations[currentLanguage][key] || translations.en[key] || key;
}

// Function to update all page texts
function updatePageTexts() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = t(key);
        
        if (element.tagName === 'INPUT' && element.type === 'text') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Update document title
    document.title = t('app_title') + ' - Rural Healthcare Access';
    
    // Update language selector
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = currentLanguage;
    }
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
    // Load saved language or default to English
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
    currentLanguage = savedLanguage;
    
    // Set up language selector
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = currentLanguage;
        languageSelect.addEventListener('change', function() {
            changeLanguage(this.value);
        });
    }
    
    // Update initial texts
    updatePageTexts();
});